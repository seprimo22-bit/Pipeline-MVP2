<!DOCTYPE html>
<html>
<head>
<title>Pipeline Article Analyzer</title>
</head>

<body>

<h2>Campbell Pipeline â€” Article Analysis</h2>

<textarea id="article" rows="15" cols="80"
placeholder="Paste article here..."></textarea>

<br><br>

<button onclick="analyze()">Analyze Article</button>

<pre id="result"></pre>

<script>
async function analyze(){

    const article =
        document.getElementById("article").value;

    document.getElementById("result").innerText =
        "Processing...";

    const res = await fetch("/analyze", {
        method:"POST",
        headers:{
            "Content-Type":"application/json"
        },
        body: JSON.stringify({article})
    });

    const data = await res.json();

    document.getElementById("result").innerText =
        "FACTS:\n\n" +
        data.extracted_facts +
        "\n\n-----------------\n\n" +
        "ANALYSIS ABOUT ARTICLE:\n\n" +
        data.analysis_about_article;
}
</script>

</body>
</html>
